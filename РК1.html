<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<title>РК-1</title>
</head>
<body>
	<h1>Рубежный контроль №1</h1>
	<h2>
		Задание 1. С помощью алгоритма Брезенхема построить отрезок прямой с координатами: A(100, 0) и B(i+10, 100), где i - номер по журналу (ИУ8-52 Ромашов В.И. - 17)
	</h2>
	<canvas id="canvas1" height="400" width="400"></canvas>
	<script>
		var canva = document.getElementById("canvas1");
		var canv = canva.getContext("2d");

		var x1=100;
		var y1=0;
		var variant=17;
		var x2=10+variant;
		var y2=100;
		
		var dx = (x2 - x1 >= 0 ? 1 : -1);
		var dy = (y2 - y1 >= 0 ? 1 : -1);
		var lengthX = Math.abs(x2 - x1);
		var lengthY = Math.abs(y2 - y1);
		var length = Math.max(lengthX, lengthY);
		if (length == 0) {
			canv.fillRect(x1, y1, 1, 1);
		}

		if (lengthY <= lengthX) {
			// Начальные значения
			var x = x1;
			var y = y1;
			var d = -lengthX;
			// Основной цикл
			length++;
			while (length--) {
				canv.fillRect(x, y, 1, 1);
				x += dx;
				d += 2 * lengthY;
				if (d > 0) {
					d -= 2 * lengthX;
					y += dy;
				}
			}
		} else {
			// Начальные значения
			var x = x1;
			var y = y1;
			var d = -lengthY;
			// Основной цикл
			length++;
			while (length--) {
				canv.fillRect(x, y, 1, 1);
				y += dy;
				d += 2 * lengthX;
				if (d > 0) {
					d -= 2 * lengthY;
					x += dx;
				}
			}
		}

	</script>
	<h2>
		Задание 2. Задан массив в переменной array. В массиве записаны х-координаты точек отрезков фигуры. 
				Необходимо построить отрезки прямых, которые получаются при заполнении фигуры методом пересечения с горизонтальными линиями.
	</h2>
	<canvas id="canvas2" height="400" width="400"></canvas>
	<script>
		var canva = document.getElementById("canvas2");
		var canv = canva.getContext("2d");

		var array=[		[1, 17, 32, 43, 55, 80,  104],
					[1, 17, 32, 43, 55, 90,  114],
					[1, 17, 32, 43, 55, 100, 124],
					[1, 17, 32, 43, 55, 110, 134],
					[1, 17, 32, 43, 55, 120, 144],
					[1, 17, 32, 43, 55, 130, 154],
					[1, 17, 32, 43, 55, 140, 164],	];
		var nn=0;
for (var row=0; row<array.length; row++) {
		nn=0;
		for (var i=0; i<array[row].length-1; i++){
			if (array[row][i+1]-array[row][i]>1) {
				if ((nn % 2)==0) {
					for (var j=array[row][i]; j<=array[row][i+1]; j++) {
						canv.fillRect(j, 10+row, 1, 1);
					}
				}
				nn++;
			}
		}
	}
	</script>
</body>
</html>